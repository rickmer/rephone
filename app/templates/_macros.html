{% macro render_captcha(form, activated) %}
{% if activated %}
<p>
    <input type="hidden" name="captcha_hash" id="captcha-hash" value="">
    <div class="media">
        <div class="media-left media-middle">
            <img class="img" id="captcha-image" src="" alt="captcha">
        </div>
        <div class="media-body">
            <div class="input-group {% if form.captcha.errors %} has-error {% endif %}">
                <span class="input-group-btn" id="captcha_addon">
                    <a class="btn btn-default" onclick="refresh_captcha();">
                        <span class="glyphicon glyphicon-refresh"></span>
                    </a>
                </span>
                <input class="form-control" type="text" id="captcha" name="captcha" aria-describedby="captcha_addon" placeholder="{% if form.captcha.errors %} {{ form.captcha.errors[0] }} {% else %} please fill captcha {% endif %}">
            </div>
        </div>
    </div>
</p>
{% endif %}
{% endmacro %}

{% macro render_info_bulletin(record) %}
<ul style="list-style: none;" class="visible-sm-inline-block visible-md-inline-block visible-lg-inline-block">
    <li>
        <span class="glyphicon glyphicon-flag"></span>
        <span>{{ record.nation }}</span>
    </li>
    <li>
        <span class="glyphicon glyphicon-list-alt"></span>
        <span>{{ record.party }}</span>
    </li>
    <li>
        <span class="glyphicon glyphicon-tags"></span>
        <span>{{ record.group }}</span>
    </li>
    <li>
        <span class="glyphicon glyphicon-link"></span>
        <span><a href="{{ record.url }}" target="_blank">{{ record.url }}</a></span>
    </li>
    <li>
        <span class="glyphicon glyphicon-envelope"></span>
        <span><a href="mailto:{{ record.email }}">{{ record.email }}</a></span>
    </li>
    <li>
        <span class="glyphicon glyphicon-phone-alt"></span>
        <span>{{ record.phone }}</span>
    </li>
</ul>
{% endmacro %}


{% macro render_info_bulletin_xs(record) %}
<div class="media visible-xs-block">
    <div class="media-left">
        <img class="img-thumbnail" style="max-width: 150px;" src="{{ url_for('static', filename='images/'+ record.image) }}">
    </div>
    <div class="media-body">
        <div>
            <span class="glyphicon glyphicon-flag"></span>
            <span class="small">{{ record.nation }}</span>
        </div>
        <div>
            <span class="glyphicon glyphicon-list-alt"></span>
            <span class="small">{{ record.party }}</span>
        </div>
        <div>
            <span class="glyphicon glyphicon-link"></span>
            <span class="small"><a href="{{ record.url }}" target="_blank">homepage</a></span>
        </div>
        <div>
            <span class="glyphicon glyphicon-envelope"></span>
            <span class="small"><a href="mailto:{{ record.email }}">email</a></span>
        </div>
        <div>
            <span class="glyphicon glyphicon-phone-alt"></span>
            <span class="small">{{ record.phone }}</span>
        </div>
    </div>
    <div style="font-size: smaller;">{{ record.license}}</div>
</div>
{% endmacro %}

{% macro render_phone_input_group(form, record) %}
<input type="hidden" name="{{ form.id_mdb.name }}" id="{{ form.id_mdb.name }}" value="{{ record.id }}">
<div class="input-group {% if form.phone_number.errors %} has-error {% endif %}">
    <span class="input-group-addon"><div class="glyphicon glyphicon-earphone"></div></span>
    <input id="{{ form.phone_number.name }}" name="{{ form.phone_number.name }}" class="form-control" placeholder="{% if form.phone_number.errors %} {% for error in form.phone_number.errors %} {{ error }} {% endfor %} {% else %} +49 30 12345678 - gib hier deine Telefonnummer ein. Wir verbinden Dich. Kostenfrei. {% endif %}" value="{% if form.phone_number.data %} {{ form.phone_number.data }} {% endif %}">
</div>
{% endmacro %}

{% macro render_head(captcha_activated) %}
<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
<link rel="stylesheet" href="{{ url_for('static', filename='bootstrap/css/bootstrap.min.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/octocat.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='bootstrap/css/bootstrap-theme.min.css') }}">
<script src="{{ url_for('static', filename='jquery/jquery-2.1.4.min.js') }}"></script>
<script src="{{ url_for('static', filename='bootstrap/js/bootstrap.min.js') }}"></script>
{% if captcha_activated %}
<script src="{{ url_for('static', filename='js/captcha.js') }}"></script>
<script type="application/javascript">$(document).ready(function () {refresh_captcha();})</script>
{% endif %}
{% endmacro%}

{% macro render_impressum_trigger() %}
<a href="#" data-toggle="modal" data-target="#impressumModal">Impressum</a>
{% endmacro %}

{% macro render_impressum_modal(impressum) %}
<div class="modal fade" id="impressumModal" tabindex="-1" role="dialog" aria-labelledby="impressumModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="impressumModalLabel">Impressum</h4>
      </div>
      <div class="modal-body">
        <h4>Angaben gemäß § 5 TMG:</h4>
          <address>
              <p>{{ impressum.name }}</p>
              <p>{{ impressum.street}}</p>
              <p>{{ impressum.plz }} {{ impressum.city}}</p>
          </address>
          <address>
            <p>Telefon: {{ impressum.phone }}</p>
            <p>E-Mail: {{ impressum.mail }}</p>
          </address>
        <h4>Verantwortlich für den Inhalt nach § 55 Abs. 2 RStV:</h4>
          {{ impressum.name }}
        <hr>
        <h4>Haftungausschluss</h4>
        <p>
          <h5>Haftung für Inhalte</h5>
          {{ impressum.text_content }}
        </p>
        <p>
            <h5>Haftung für Links</h5>
            {{ impressum.text_links }}
        </p>
      </div>
    </div>
  </div>
</div>
{% endmacro %}